FROM debezium/connect:1.9

ENV KAFKA_CONNECT_JDBC_DIR=$KAFKA_CONNECT_PLUGINS_DIR/kafka-connect-jdbc

RUN mkdir -p $KAFKA_CONNECT_JDBC_DIR

ENV MAVEN_DEP_DESTINATION=$KAFKA_CONNECT_JDBC_DIR \
  CONNECT_JDBC_PACKAGE=kafka-connect-jdbc \
  CONNECT_JDBC_VERSION=10.4.0 \
  CONNECT_JDBC_MD5SUM=bae544aabd0b16c581f1b012f5670fac

RUN docker-maven-download confluent "$CONNECT_JDBC_PACKAGE" "$CONNECT_JDBC_VERSION" "$CONNECT_JDBC_MD5SUM"

ENV MAVEN_DEP_DESTINATION=$KAFKA_HOME/libs \
  POSTGRES_VERSION=42.3.5 \
  POSTGRES_GROUP=org/postgresql \
  POSTGRES_PACKAGE=postgresql \
  POSTGRES_MD5SUM=ee4505741af3b80de56e7f75c86e7602

RUN docker-maven-download central "$POSTGRES_GROUP" "$POSTGRES_PACKAGE" "$POSTGRES_VERSION" "$POSTGRES_MD5SUM"
